# البروتوكولات الاتصالية - اتصال السلك التسلسلي

يمكن اعتبار اتصال السلك التسلسلي أحد أكثر أنواع الاتصالات استخدامًا وأساسية في الميكروكنترولر. يمكن استخدامها كوسيلة لتصحيح الأخطاء والتحقق من البيانات وإرسال الأوامر إلى الميكروكنترولر، كما يمكن استخدامها للتواصل بين اثنين من الميكروكنترولرات. يتم استخدام مستوى الفيزيائي لاتصال السلك التسلسلي هو معيار RS-232 و TTL.

## طبقات البروتوكول

### موازي وتسلسلي

- **اتصال موازي**: يتم نقل جميع بتات البيانات في نفس الوقت، وهو أسرع ولكن يستخدم موارد دبوس أكثر.
- **اتصال تسلسلي**: يتم نقل البيانات بترتيبها، ويستخدم موارد دبوس أقل ولكن السرعة أبطأ نسبيًا.

### واجهة أحادية الاتجاه، نصف الاتجاه وثنائية الاتجاه

- **أحادية الاتجاه**: يتم نقل البيانات في اتجاه واحد فقط.
- **نصف الاتجاه**: يسمح بنقل البيانات في اتجاهين، ولكن في نفس الوقت، يسمح فقط بنقل البيانات في اتجاه واحد، وهو عبارة عن اتصال أحادي الاتجاه يمكن تبديل اتجاهه.
- **ثنائية الاتجاه**: يسمح بنقل البيانات في اتجاهين في نفس الوقت، وبالتالي، فإن اتصال ثنائي الاتجاه هو مزيج من طريقتي اتصال أحادية الاتجاه، ويتطلب أن تكون الأجهزة المرسلة والمستقبلة لديها قدرة استقبال وإرسال مستقلة.

### متزامن وغير متزامن

- **اتصال متزامن**: يتم نقل إشارة مزامنة الساعة مع البيانات. على سبيل المثال SPI، IIC وغيرها من واجهات الاتصال.
- **اتصال غير متزامن**: لا يتم نقل إشارة مزامنة الساعة. على سبيل المثال UART، واجهة الحافلة الواحدة.

### USART و UART

- **UART**: جهاز استقبال/إرسال غير متزامن عام (Universal Asynchronous Receiver/Transmitter)
- **USART**: جهاز استقبال/إرسال متزامن/غير متزامن عام (Universal Synchronous/Asynchronous Receiver/Transmitter)

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210207095411.png)

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20210207095433.png)

يعتبر USART ترقية لـ UART، والفرق هو وجود خط CLK، عندما لا يوجد إشارة على CLK، فإن هذا يعني عدم وجود مهمة نقل البيانات، وعندما يوجد إشارة CLK، فهذا يعني نقل الإشارة، ويوفر CLK وظيفة مزامنة الساعة، ويتم التحقق بدقة أكبر.

## المستوى الفيزيائي

### معيار TTL

يرجى الانتقال إلى مقال [**واجهة مستوى TTL · البروتوكولات الاتصالية - مستوى الأرقام الرقمية**](https://wiki-power.com/ar/%D8%A7%D9%84%D8%A8%D8%B1%D9%88%D8%AA%D9%88%D9%83%D9%88%D9%84%D8%A7%D8%AA%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D9%8A%D8%A9%20-%20%D9%85%D8%B3%D8%AA%D9%88%D9%89%20%D8%A7%D9%84%D8%A3%D8%B1%D9%82%D8%A7%D9%85%20%D8%A7%D9%84%D8%B1%D9%82%D9%85%D9%8A%D8%A9#ttl-%D9%88%D8%A7%D8%AC%D9%87%D8%A9-%D9%85%D8%B3%D8%AA%D9%88%D9%89) لمعيار TTL.

### معيار RS-232

يتم إنشاء اتصال RS-232 الفيزيائي بين واجهتي DB9 لجهازين باستخدام خطوط إشارة السلك التسلسلي، ويتم نقل إشارات البيانات باستخدام مستوى الجهد RS-232. نظرًا لأن المتحكمات تستخدم عادة مستوى الجهد TTL، فإنه يتطلب رقاقات تحويل الجهد المخصصة لتحقيق الاتصال.

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220415102310.png)

مقارنة مستويات TTL و RS-232:

| المعيار الاتصالي | معيار الجهد (المرسل) |
| ------------------ | ----------------------- |
| 5V TTL             | منطقي `0`: 0 ~ 0.5V؛ منطقي `1`: 2.4V-5V |
| RS-232             | منطقي `0`: +3V ~ +15V؛ منطقي `1`: -15V ~ -3V |

الرسم البياني المثالي للتوقيت المقابل:

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220415102914.png)

يستخدم معيار RS-232 واجهة DB9 عادة في الحواسيب مع واجهات الرأس العامة (الدبابيس)، وفي أجهزة المودم، يستخدم عادة واجهة الأنثى (الثقب):

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220415103401.png)

تعريف دبوس الواجهة:

| رمز الدبوس | الاسم | الوصف |
| -------- | ------------------- | -------------------------------------------------------------------------------------------------------------------- |
| DCD      | كشف الحامل            | Data Carrier Detect، يتم استخدامه لإعلام DTE الجهاز الآخر ما إذا كان الجهاز الحالي يتلقى إشارة حامل من الجهاز الآخر |
| RXD      | استقبال البيانات            | Receive Data، إشارة استقبال البيانات، أي الإدخال |
| TXD      | إرسال البيانات            | Transmit Data، إشارة إرسال البيانات، أي الإخراج. يجب تبادل TXD و RXD بين جهازين |
| DTR      | جاهزية جهاز النهاية للبيانات (DTE) | Data Terminal Ready، جاهزية جهاز النهاية للبيانات، يتم استخدامه لإعلام DTE الجهاز الآخر ما إذا كان الجهاز الحالي جاهزًا |
| GND      | الأرضية للإشارة              | الأرضية، يمكن أن تكون الجهود الكهربائية للأرضية بين جهازي اتصال مختلفين مختلفة، وهذا يؤثر على إشارات الجهد المرسلة والمستقبلة، لذلك يجب على جهازي السلسلة استخدام الأرضية المشتركة |
| DSR      | جاهزية جهاز البيانات (DCE) | Data Set Ready، جاهزية جهاز البيانات، يتم استخدامه لإعلام DCE الجهاز الآخر ما إذا كان الجهاز الحالي في وضع الاستعداد |
| RTS      | طلب الإرسال            | Request To Send، طلب الإرسال، يطلب DTE من DCE إرسال البيانات |
| CTS      | السماح بالإرسال            | Clear To Send، السماح بالإرسال، يرد DCE على طلب RTS من الجهاز الآخر ويخبره ما إذا كان بإمكانه إرسال البيانات |
| RI       | إشارة الجرس            | Ring Indicator، إشارة الجرس، يشير إلى أن DCE والخط متصلان |

يتم تبادل TX/RX بين DB9 الذكري والأنثوية، لذلك يمكن توصيل هذه الخطوط الإشارة:

![](https://wiki-media-1253965369.cos.ap-guangzhou.myqcloud.com/img/20220415103901.png)

تستخدم إشارات RTS و CTS و DSR و DTR و DCD في كابل السلسلة، ويتم تمثيل الإشارات الفعالة بالرقم 1 والإشارات غير الفعالة بالرقم 0.

في الاستخدام الفعلي، يتم الاحتفاظ في بعض الأحيان بـ RXD و TXD و GND فقط.

## المراجع والشكر

- [USART — 串口通讯](https://doc.embedfire.com/mcu/stm32/f103/hal_generalzh/latest/doc/chapter20/chapter20.html)

> عنوان النص: <https://wiki-power.com/>  
> يتم حماية هذا المقال بموجب اتفاقية [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh)، يُرجى ذكر المصدر عند إعادة النشر.

> تمت ترجمة هذه المشاركة باستخدام ChatGPT، يرجى [**تزويدنا بتعليقاتكم**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) إذا كانت هناك أي حذف أو إهمال.