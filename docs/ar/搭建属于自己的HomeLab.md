# بناء HomeLab الخاص بك

يشير Homelab إلى بيئة التجربة (التحريك) التي يمكن بناؤها في المنزل للتجربة والتعلم. وعادة ما يشير إلى سلسلة من الأجهزة (خوادم المنزل ، وحدات الكمبيوتر الصغيرة ، والهواتف القديمة ، والتوت بي إلخ) التي تعمل عليها بيئة نظام التشغيل والبرامج (Linux والأجهزة الافتراضية و Docker وما إلى ذلك). يوجد لـ Homelab العديد من الاستخدامات ، مثل توجيه البرامج النصية ، والمضيف البعيد ، ويمكن أيضًا نشر سلسلة من الخدمات الخاصة بالتحكم الذاتي ، مثل مكتبة الكتب الشخصية ومكتبة الأفلام ومدير كلمات المرور وموقع الويب الشخصي وقارئ RSS وخادم البودكاست والمذكرات الخ.

## تكوين Homelab الخاص بي

تكوين Homelab الخاص بي هو **خادم سحابي خفيف** + **وحدة كمبيوتر صغيرة** + **NAS** ، ولكل منها تكوين واستخدامات مختلفة:

|          | خادم سحابي خفيف (Alibaba Cloud 1C2G) | وحدة كمبيوتر صغيرة (N100 CPU) | NAS (Synology DS220+) |
| -------- | --------------------------- | ------------------ | ------------------ |
| عنوان IP العام | متاح                          | غير متاح                 | غير متاح                 |
| مساحة التخزين | صغير                          | متوسط                 | كبير                 |
| الأداء     | منخفض                          | عالي                 | منخفض                 |

![](https://img.wiki-power.com/d/wiki-media/img/202304130031463.png)

من السهل ملاحظة أنهم جميعًا متخصصون ، ولكن بمجرد أن يتعاونوا ، فإنهم يشكلون مثلثًا. يميل **خادم سحابي خفيف** إلى النوع الذي يتطلب الوصول إلى الشبكة ، يميل **وحدة كمبيوتر صغيرة** إلى النوع الذي يتطلب معالجة الأداء ، ويميل **NAS** إلى النوع الذي يتطلب تخزين المساحة.

### خادم سحابي خفيف

**خادم سحابي خفيف** هو في الواقع ما تبقى من خوادم السحاب التي يملكها مزودو خدمات السحابة ، وهي ذات تكوين منخفض ، ولكنها تفوز بأنها بأسعار معقولة ، مثل خادم Alibaba Cloud الخفيف الذي اشتريته بسعر 96 يوانًا / سنة فقط (إذا كان لديك باقة أرخص ، فلا تتردد في إعلامي).

نظرًا لوجود عنوان IP العام (تم فتح منافذ 80/443 أيضًا) ، فإن الخدمات التي نشرتها على هذا الخادم السحابي الخفيف هي خادم frp وخادم الوكيل العكسي وجسر الوصول إلى الأجهزة الأخرى ولوحة مراقبة الأجهزة الأخرى وخدمة موقع الويب الصغير ومراقبة توفر الموقع وما إلى ذلك.

### وحدة كمبيوتر صغيرة

**وحدة كمبيوتر صغيرة** اخترت Zero N100 CPU Quan System ، وقمت بتجهيزه بذاكرة وصول عشوائي DDR5 بسعة 16 جيجابايت وقرص صلب SSD بسعة 250 جيجابايت ، وبشكل عام يبلغ سعرها حوالي 1000 يوان. لا يستهلك الكثير من الطاقة اليومية ، ويمكن استدعاؤه عند الحاجة إلى الأداء.

![](https://img.wiki-power.com/d/wiki-media/img/202304130043744.png)

يتم نشر نوع التطبيقات التي تم تثبيتها على وحدة الكمبيوتر الصغيرة بشكل رئيسي ، مثل محرر كود VS Code على الويب ومكتبة الملاحظات الخاصة وقارئ RSS وخادم البودكاست ومكتبة الأفلام ومتصفح الشبكة الداخلية وما إلى ذلك.

### NAS

**NAS** اخترت Synology DS220 + ، وهي تعمل على بنية X86 وتسهل تشغيل بيئة Docker. في وقت سابق ، قمت بإضافة شريط ذاكرة وصول عشوائي بسعة 16 جيجابايت لتحسين أدائه. ولكن بعد ذلك ، تبين أن الزجاجة الرقبة لا تزال تلك الوحدة المعالجة المركزية الضعيفة J4025. يمكن اعتبار Synology الأبيض هدية برمجية مع أجهزة ، ولكن لأجل سلامة البيانات ، فهي تستحق الثمن.

![](https://img.wiki-power.com/d/wiki-media/img/202304130053483.png)

يتم نشر ما تم تثبيته على NAS بشكل رئيسي ، مثل نسخ احتياطي للبيانات الجهازية ومزامنة القرص الصلب ومكتبة الصور ومكتبة الكتب وما إلى ذلك.

## كيفية نشر Docker compose بنقرة واحدة

مع روح التحريك ، لا يمكن تجنب تثبيت النظام بانتظام. بعد تثبيت العديد من التطبيقات ، لا يمكن تشغيلها جميعًا بشكل فردي. هناك سكريبت shell بسيط يمكنه نشر جميع Docker compose بنقرة واحدة:

```shell title="compose.sh"
echo "starting compose.sh..."

# تمرير المجلدات في المستوى الأول للمجلد الحالي
for folder in */; do
  [ "$folder" != "Archive/" ] # تجاهل مجلد Archive
  cd "$folder"  # الدخول إلى المجلد
  docker-compose up -d # تنفيذ أمر docker compose up -d
  cd .. # العودة إلى المجلد الأعلى
done

echo "done."
```

هذه هي هيكلي الدليل:

```
├── compose
│   ├── code-server
|   |   ├──compose.yaml
|   |   ├──.env
│   ├── frp
|   |   ├──compose.yaml
│   ├── xxx
|   |   ├──compose.yaml
│   ├── ……
│   └── compose.sh
```

فقط قم بتشغيل `sh compose.sh` في الدليل compose لتشغيل جميع Docker compose بنقرة واحدة.

## مزايا الاستضافة الذاتية

بالمقارنة مع الاستضافة الخارجية، التي تسمح للآخرين بحفظ بياناتك، فإن الاستضافة الذاتية (Self-Hosted) لها مزايا كاملة، حيث تمنحك السيطرة الكاملة على بياناتك الشخصية، ويمكنك تخصيصها وفقًا لاهتماماتك الخاصة، وتساعدك على الحصول على مصادر معلوماتية أفضل (مكتبة شخصية، مكتبة فيديو، خدمة RSS). الشرط الأساسي هو وجود الوقت والجهد والاستثمار المالي، ويجب أن يكون لديك روح للتجريب.

في سلسلة المقالات التالية، سأقدم بعض الإعدادات الأساسية، بالإضافة إلى العديد من الخدمات المثيرة للاهتمام. الثلاثي الحديدي المذكور أعلاه هو تكوين تفضيلي شخصي، وإذا كان لديك جهاز واحد فقط، فلا يوجد مشكلة في التجريب. يتم نشر معظم المحتوى الذي سأقدمه باستخدام Docker و Docker-compose، لأن هذه الطريقة متوافقة للغاية ويمكن استخدامها على أجهزة مختلفة. ولكن يجب الإشارة إلى أنه يجب اختيار جهاز X86 لأن بعض الحاويات لم تتم ملائمتها لـ ARM وتحتاج إلى تثبيت مخصص.

## المراجع والشكر

- [ما هي الخدمات المثيرة للاهتمام التي يتم استضافتها على NAS الخاص بك؟](https://www.v2ex.com/t/901954)
- [تشغيل عدة تكوينات لحاويات docker-compose بنقرة واحدة](https://juejin.cn/post/7082842557482270734)

> عنوان النص: <https://wiki-power.com/>  
> يتم حماية هذا المقال بموجب اتفاقية [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh)، يُرجى ذكر المصدر عند إعادة النشر.

> تمت ترجمة هذه المشاركة باستخدام ChatGPT، يرجى [**تزويدنا بتعليقاتكم**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) إذا كانت هناك أي حذف أو إهمال.