# استخدام لغة R لتحليل البيانات

## تثبيت البرامج

- [**R-software**](https://cran.r-project.org/)
  - إذا كنت تستخدم نظام Windows ، فيرجى النقر على "تنزيل R لنظام Windows" على الصفحة الرئيسية للموقع ، ثم النقر على "تثبيت R للمرة الأولى" ، ثم النقر على "تنزيل R 4.0.4 لنظام Windows" ، بعد تنزيل البرنامج ، يرجى إكمال التثبيت بنفسك.
  - لا يوجد واجهة رسومية لبرنامج R فهو يعمل فقط في الخلفية.
- [**RStudio**](https://rstudio.com/products/rstudio/download/#download)
  - الرجاء النقر على الزر الأزرق "تنزيل" مباشرةً ، أو تحميل إصدارات أخرى من الصفحة الرئيسية. بعد تنزيل البرنامج ، يرجى إكمال التثبيت بنفسك.

## مصادر التعليم

### مصادر عبر الإنترنت (موصى بها)

- [R-tutorial](http://www.r-tutor.com/r-introduction)
- [تعلم لغة R من الصفر](https://bookdown.org/qiyuandong/intro_r/)

### الكتب

- [The R-book](https://www.cs.upc.edu/~robert/teaching/estadistica/TheRBook.pdf)
- [R for Data Science](https://r4ds.had.co.nz/index.html)

## أنواع البيانات الأساسية

تتضمن أنواع البيانات في لغة R الأساسية ما يلي:

- **أرقام (numerics)**
- **أعداد صحيحة (integer)**
- **أعداد مركبة (complex)**
- **منطقي (logical)**
- **نص (characters)**

### أرقام (numerics)

تعتبر الأرقام هي النوع الأساسي للبيانات في لغة R. عندما نقوم بتعيين قيمة رقمية لمتغير ، فإن نوع المتغير هو الأرقام:

```r
> x = 11.15       # تعيين الرقم 11.15 للمتغير x
> x              # طباعة قيمة x
[1] 11.15
> class(x)       # طباعة نوع x
[1] "numeric"
```

يمكن أن يكون العدد صحيحًا أو عشريًا. ومع ذلك ، إذا تم إنشاء المتغير بهذه الطريقة ، فسيتم اعتبار المتغير الصحيح أيضًا متغيرًا عشريًا.

### أعداد صحيحة (integer)

إذا كنت تريد إنشاء متغير صحيح ، فيجب استخدام الدالة `is.integer`:

```r
> y = as.integer(3)
> y              # طباعة قيمة y
[1] 3
> class(y)       # طباعة نوع y
[1] "integer"
> is.integer(y)  # هل y عدد صحيح؟
[1] TRUE
```

يمكنك أيضًا إضافة حرف `L` في النهاية لإنشاء متغير صحيح:

```r
> y = 3L
> is.integer(y)  # هل y عدد صحيح؟
[1] TRUE
```

إذا كنت تريد تقريب العدد العشري ، فيمكنك استخدام الدالة `as.integer`:

```r
> as.integer(3.14)    # تحويل العدد العشري إلى عدد صحيح
[1] 3
```

يمكن أيضًا تحويل النص إلى عدد صحيح:

```r
> as.integer("5.27")  # تحويل النص إلى عدد صحيح
[1] 5
```

ومع ذلك ، إذا كان النص الذي يتم تحليله ليس رقمًا ، فسيتم إصدار خطأ:

```r
> as.integer("Joe")   # تحليل النص الذي ليس رقمًا
[1] NA
Warning message:
NAs introduced by coercion
```

مثل لغة C ، يتم تعيين القيمة 1 لـ `TRUE` والقيمة 0 لـ `FALSE` في لغة R:

```r
> as.integer(TRUE)    # المتغير الرقمي لـ TRUE
[1] 1
> as.integer(FALSE)   # المتغير الرقمي لـ FALSE
[1] 0
```

### أعداد مركبة (complex)

في لغة R ، يتم تعريف المتغيرات المركبة باستخدام `i`:

```r
> z = 3 + 2i       # تعيين المتغير المركب z
> z              # طباعة قيمة z
[1] 3+2i
> class(z)       # طباعة نوع z
[1] "complex"
```



```r
> z = 1 + 2i     # إنشاء متغير عدد مركب z
> z              # إظهار قيمة z
[1] 1+2i
> class(z)       # إظهار نوع z
[1] "complex"
```

إذا قمنا بأخذ جذر تربيعي لـ `-1` فسيحدث خطأ:

```r
> sqrt(−1)       # أخذ جذر تربيعي لـ -1
[1] NaN
Warning message:
In sqrt(−1) : NaNs produced
```

ولكن إذا قمنا بأخذ جذر تربيعي للعدد المركب `−1+0i` فلن يحدث خطأ:

```r
> sqrt(−1+0i)    # أخذ جذر تربيعي لـ −1+0i
[1] 0+1i
```

يمكن أيضًا استخدام التحويل القسري للأنواع للقيام بالعمليات:

```r
> sqrt(as.complex(−1))
[1] 0+1i
```

### النوع المنطقي (logical)

يتم إنشاء النوع المنطقي عادةً عن طريق مقارنة المتغيرات:

```r
> x = 1; y = 2   # متغيرات العينة
> z = x > y      # هل x أكبر من y؟
> z              # إظهار المتغير المنطقي
[1] FALSE
> class(z)       # إظهار نوع z
[1] "logical"
```

العمليات المنطقية الأساسية هي `&` (و)، `|` (أو)، `!` (لا):

```r
> u = TRUE; v = FALSE
> u & v          # عملية "و" بين u و v
[1] FALSE
> u | v          # عملية "أو" بين u و v
[1] TRUE
> !u             # عملية "لا" على u
[1] FALSE
```

### النوع النصي (character)

يمكن الحصول على النوع النصي باستخدام التحويل القسري `as.character`:

```r
> x = as.character(3.14)
> x              # إظهار السلسلة النصية
[1] "3.14"
> class(x)       # إظهار نوع x
[1] "character"
```

يمكن استخدام الدالة `paste` لدمج متغيرين نصيين:

```r
> fname = "Joe"; lname ="Smith"
> paste(fname, lname)
[1] "Joe Smith"
```

يمكن استخدام الدالة `sprintf` لإخراج النص بتنسيق معين لزيادة القراءة (في المثال، تم استبدال `%s` بـ `Sam` و `%d` بـ `100`):

```r
> sprintf("%s has %d dollars", "Sam", 100)
[1] "Sam has 100 dollars"
```

إذا كنت تريد استخراج جزء من السلسلة النصية، يمكن استخدام الدالة `substr` (في المثال، تم قص الأحرف بين الحرف الثالث والحرف الثاني عشر):

```r
> substr("Mary has a little lamb.", start=3, stop=12)
[1] "ry has a l"
```

إذا كنت تريد استبدال أول حرف تقابله بحرف آخر، يمكن استخدام الدالة `sub` (في المثال، تم استبدال `little` بـ `big`):

```r
> sub("little", "big", "Mary has a little lamb.")
[1] "Mary has a big lamb."
```

## الفيكتور (المتجه)

### الفيكتور في لغة R

الفيكتور هو مصفوفة تحتوي على عناصر من نفس النوع، ويطلق على أعضائها اسم components.

فيما يلي مثال على فيكتور (يحتوي على ثلاثة متغيرات عددية `2` `3` `5`):

```r
> c(2, 3, 5)
[1] 2 3 5
```

يمكن أيضًا أن يتكون بالكامل من النوع المنطقي:

```r
> c(TRUE, FALSE, TRUE, FALSE, FALSE)
[1] TRUE FALSE TRUE FALSE FALSE
```

أو يمكن أن يتكون بالكامل من النوع النصي:

```r
> c("aa", "bb", "cc", "dd", "ee")
[1] "aa" "bb" "cc" "dd" "ee"
```

إذا كنت تريد معرفة عدد الأعضاء في الفيكتور، يمكن استخدام الدالة `length`:

```r
> length(c("aa", "bb", "cc", "dd", "ee"))
[1] 5
```

### دمج الأسهم

إذا كنت تريد دمج اثنين من الأسهم، يمكنك استخدام الدالة `c`:

```r
> n = c(2, 3, 5)
> s = c("aa", "bb", "cc", "dd", "ee")
> c(n, s)
[1] "2"  "3"  "5"  "aa" "bb" "cc" "dd" "ee"
```

يرجى ملاحظة في المثال أعلاه، إذا تم دمج اثنين من الأسهم بأنواع بيانات مختلفة، فسيتم توافق النوع بعد الدمج (أي يتم تحويل النوع الأكثر صرامة إلى النوع الأكثر ارتياحًا، مثل تحويل الأرقام إلى الأحرف).

### العمليات الأساسية على الأسهم

لنفترض أولاً أن لدينا اثنين من الأسهم `a` `b`:

```r
> a = c(1, 3, 5, 7)
> b = c(1, 2, 4, 8)
```

وهذه هي العمليات الأساسية على الأسهم:

```r
> a + b
[1] 2 5 9 15

> a - b
[1] 0 1 1 -1

> 5 * a
[1] 5 15 25 35

> a * b
[1] 1 6 20 56

> a / b
[1] 1.000 1.500 1.250 0.875
```

إذا كان عدد أعضاء الأسهم المضافة غير متساوٍ، فسيتم توافق النتيجة بأسفل (أي يتم اختيار طول النتيجة بناءً على الأطول):

```r
> u = c(10, 20, 30)
> v = c(1, 2, 3, 4, 5, 6, 7, 8, 9)
> u + v
[1] 11 22 33 14 25 36 17 28 39
```

### البحث في الأسهم

إذا كنت تريد استخراج عضو من الأسهم، يمكنك استخدام الفهرس المعلن في `[ ]`، أي `[عضو رقم]`:

```r
> s = c("aa", "bb", "cc", "dd", "ee")
> s[3]  # استخراج قيمة العضو الثالث وطباعتها
[1] "cc"
```

إذا أضفت علامة ناقص قبل الفهرس، مثل `[-3]`، فهذا يعني استخراج جميع الأعضاء باستثناء العضو الثالث:

```r
> s[-3]
[1] "aa" "bb" "dd" "ee"
```

إذا تجاوز الفهرس طول الأسهم، فسيتم إصدار خطأ:

```r
> s[10]
[1] NA
```

【تحديث جارٍ】

> تمت ترجمة هذه المشاركة باستخدام ChatGPT، يرجى [**تزويدنا بتعليقاتكم**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) إذا كانت هناك أي حذف أو إهمال.