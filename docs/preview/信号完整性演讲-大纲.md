# Hello

欢迎大家今天来听我的分享。我今天的主题是介绍信号完整性。我将会解释信号完整性背后的基本概念，包括最常见的信号完整性问题及其量化方式。

# END

信号完整性的问题更多出现在 PCB 设计中，在 ATE 调试中比较少遇到，但如果遇到了类似的问题，可以为我们提供多一种解决问题的思路。

[nderstanding Signal Integrity](https://www.youtube.com/watch?v=anX8QZMhVjI&list=PLxaBD9eBZcGTZaMZ-3HN5zXFQ06FDOjzJ&index=10&t=1s)

# About signals

首先，我们知道信号是模拟量，是用来传输信息的，我们通常把电压定义为信号。？

在数字信号中通常用 1 和 0 表示数字信息

首先，信号本身是个模拟量，通常用电压表示。在数字信号中我们通常用 0 和 1 表示，就是像图上画的，电压比这条线高就定义为逻辑 1，比这条线低就定义为逻辑 0。

信号链通常包括三部分：驱动器？，互连和接收器

# Requirements for good data transmission

大多数情况下，信号是方波的形式，这些方波实际上是由多个频率分量的正弦波组成的。叠加的谐波次数越多，方波就会越方。

所以，好的数字数据传输通常需要保证两个因素，一是构成方波的所有频率分量都应经历相同的幅度变化，就是说应该被放大或衰减相同的倍数。二是所有频率分量的相位应该保持一致。

如果保证不了，就有可能会出现信号失真。

# Signal integrity

因此，我们可以把信号完整性定义为系统或信号链不过度传输信号的能力。？或者说意味着能够在接收器上准确地重建波形。

所有传输系统都会带来不一样的损耗。

如果信号是低速信号，我们通常能够忽略信号完整性的问题，因为信号变化速率低，或者说信号上升时间很长。但随着上升时间的减少，信号完整性会变成一个更重要的问题，许多现代高速应用通常具有非常短的上升时间。

其次，短上升时间也会带来更多信号完整性的问题。

对高速信号并没有严格的定义，一般称上升周期小于 1 纳秒为高速信号。

所以，信号完整性在高速电路设计中很重要。

# Channel?

在信号完整性中，信号互连跟驱动器接收器一样重要。

在理想互连中，信号在从发射器传输到接收器时可能会衰减或放大，也可能会有延迟，但接收信号仍然具有与发射信号基本相同的形状。

在实际互连中，信号分量频率的相关变化会导致接收信号形状发生变化，这会使接收器更难正确检测传输信号电平或确定其状态。通常来说，高频率分量的信号会比低频率的衰减越多。

# Channel format

信号互连大致分为 PCB 走线，连接器，或者外部线缆这三种形式。信号完整性的原理在所有的形式上都是通用的，我们接下来重点分析 PCB 走线上的信号完整性。

# Sources of channel degradations

接下来我们会介绍四种最主要的信号退化的形式，分别是阻抗不匹配，频率响应（失真？），串扰与噪声

# Impedance mismatches

为了最大限度地减少信号退化，信号应该沿路径或迹线看到恒定的阻抗。阻抗是一个点概念，因此不能保证走线中间的阻抗与走线开始或结束时的阻抗相同。

如果在任何一点存在阻抗不匹配或变化，这可能会导致反射，进而导致信号失真。

在 PCB 上有各种造成信号不匹配的因素：

- 走线改变方向/宽度，也比如走线分叉
- 断头线，所有的信号都会反射回去
- 通孔或过孔
- 信号不连续，例如走到器件管脚上
- 板材间的差异（不写）

# Frequency response / attenuation

信号也可能会因为特定的频率衰减而失真。假如说各频率衰减是均匀的，那么最终的信号形状也不会变，但实际上衰减会因信号频率提高而增大，所以会发生失真现象。

频率相关的损耗，主要来源是导体本身的电阻。另外 pcb 材料本身的特性也会在不同的频率下产生不同的介电损耗

另一种损耗的形式是趋肤效应。就是？高频率电流在导体内分布不均匀，更趋向于导体的边缘。这种效应这反过来会产生随频率增加的自感，并导致额外的衰减。

增加走线的宽度以增加其总表面积可以减少趋肤效应造成的损耗，但改变走线形态也有可能产生阻抗不匹配的问题，这就需要在各种影响因素中做出妥协了。

# Crosstalk（动画）

串扰是指相邻导体或迹线之间的能量耦合？

通常我们分别称两条互连线为影响的和被影响的。

分为近端串扰和远端。

减小串扰的方法是：

- 增加走线间隔
- 尽量避免平行走线
- 靠近地平面

# Noise

噪声大多是由电源引起的，关乎到电源完整性的问题。

抖动可以定义为信号时序的变化
