# Signal Integrity - Impedance and Electrical Models

Impedance (Z) is a collective term for the resistance, inductance, and capacitance in an electrical circuit that impedes the flow of alternating current. It is defined as the ratio of voltage to current ($Z=V/I$). Impedance is a complex quantity with a real part called resistance and an imaginary part called reactance. The resistance caused by capacitance in a circuit for alternating current is called capacitive reactance, while the resistance caused by inductance is called inductive reactance. Together, capacitive and inductive reactance are referred to as impedance.

For a constant voltage, higher impedance results in lower current flow, and vice versa. In extreme cases, the impedance of an open circuit is infinite, while the impedance of a short circuit is zero. In the case of interconnect lines, impedance is a critical factor affecting signal quality. As signals propagate, they continuously react in response to the instantaneous impedance.

## Basic Electrical Models

In the process of creating basic electrical models, we consider the following ideal two-port components:

1. Ideal resistor
2. Ideal capacitor
3. Ideal inductor
4. Ideal transmission line

The characteristics of ideal resistance, capacitance, and inductance can be combined into a single point, referred to as ** lumped circuit elements**, while the characteristics of ideal transmission lines are distributed along the line. The goal is to create an equivalent circuit model that closely matches the impedance measured for actual components.

![Impedance](https://img.wiki-power.com/d/wiki-media/img/20221219164410.png)

## Impedance of Ideal Resistors in the Time Domain

The impedance of an ideal resistor is constant and equal to its resistance value, independent of voltage or current.

## Impedance of Ideal Capacitors in the Time Domain

For ideal capacitors, there is a relationship between the charge stored between two plates and the voltage difference across them, defined as follows:

$$
C=\frac{Q}{V}
$$

Here, C represents capacitance (in Farads), Q represents the charge stored between the plates (in Coulombs), and V represents the voltage difference between the two plates (in Volts).

The impedance of a capacitor is determined by the voltage across its terminals and the current passing through it. In reality, current does not flow through the capacitor; it only appears to flow when the voltage across the capacitor's plates changes.

![Capacitor](https://img.wiki-power.com/d/wiki-media/img/20221219215752.png)

As shown in the diagram, as positive charge is added to the upper plate and negative charge to the lower plate, the previous positive charge is pushed out from the lower plate. This gives the appearance of current flowing through the capacitor. This type of current, generated by the displacement of bound charges in a polarized dielectric, is known as **displacement current**, and it is not a true current but rather the movement of charge. Its definition is as follows:

$$
I=\frac{dQ}{dt}=C\frac{dV}{dt}
$$

From this equation, it's clear that current flows only when the voltage across the capacitor's plates changes. If the voltage remains constant, there is no displacement current.

Therefore, the impedance of an ideal capacitor can be expressed as:

$$
Z=\frac{V}{I}=\frac{V}{C\frac{dV}{dt}}
$$

The impedance of a capacitor is dependent on the shape of the voltage waveform across its terminals. If the voltage changes rapidly (high slope of the waveform), the current is large, and the impedance is small. Conversely, when the voltage changes more slowly, a larger capacitance results in a smaller impedance.

## Impedance of Ideal Inductors in the Time Domain

For ideal inductors, the voltage across its terminals is defined as:

$$
V=L\frac{dI}{dt}
$$

Here, V represents the voltage across the inductor's terminals, L represents the inductance value, and I represents the current passing through the inductor. It's evident that the voltage across the inductor's terminals depends on the rate of change of the current passing through it, and the rate of change of current depends on the voltage difference across the inductor. Whether the voltage or the current is the cause or effect depends on which one is the driving source. The impedance of an inductor can be expressed as the ratio of the voltage across its terminals to the current passing through it:

$$
Z=\frac{V}{I}=L\frac{\frac{dI}{dt}}{I}
$$

If the current through the inductor increases rapidly, the impedance becomes large, and vice versa. If the current is direct current (DC), the impedance approaches zero. Of course, the actual impedance of an inductor is closely related to the specific waveform of the current.

## Impedance in the Frequency Domain

As observed earlier, in the time domain, the impedance calculations for inductors and capacitors involve relatively complex functions. However, when analyzed in the frequency domain, the analysis becomes much simpler.

In the frequency domain, sinusoidal waves are the only waveforms present, so the analysis involves studying their interaction with ideal components. Sinusoidal waves have three characteristics: frequency, amplitude, and phase. These are typically described in radians, and the relationship between angular frequency ($\omega$) in radians per second and frequency ($f$) in hertz is:

$$
\omega=2\pi f
$$

When we apply sinusoidal voltages across ideal components, we observe the current passing through them. Impedance is still defined as the ratio of voltage to current, but now it is the ratio of sinusoidal voltage to sinusoidal current. Since ideal components and ideal transmission lines are linear elements, the frequency of the resulting current matches the frequency of the input voltage.

According to the definition of impedance, the magnitude of impedance can be expressed as:

$$
|Z|=\frac{|V|}{|I|}
$$

Simultaneously, it's necessary to calculate the phase difference between two waveforms. In the frequency domain, impedance can be represented as follows: at 10MHz, the impedance magnitude is 20Ω, with a phase of 30° (voltage leading current by 30°). These three elements are indispensable because impedance magnitude and phase are both frequency-dependent and vary with changes in frequency. Additionally, impedance in the frequency domain can be represented using complex numbers, incorporating phase information into the complex representation to simplify calculations.

## Impedance of an Ideal Resistor in the Frequency Domain

Next, let's analyze the impedance of ideal components in the frequency domain. Since only sinusoidal voltage and current need to be dealt with in the frequency domain, if a sinusoidal current is applied using a current source flowing through a resistor, a sinusoidal voltage will appear across its terminals, which can be expressed as:

$$
V=I_0 \sin(\omega t) \cdot R
$$

The sinusoidal voltage is the product of R and the sinusoidal current. According to the formula above, the impedance of an ideal resistor can be expressed as:

$$
Z=\frac{V}{I}=\frac{I_0 \sin(\omega t) \cdot R}{I_0 \sin(\omega t)}=R
$$

In fact, the impedance of an ideal resistor is simply its resistance value, and it is independent of frequency, with zero phase difference. This result is consistent with the conclusion in the time domain.

## Impedance of an Ideal Capacitor in the Frequency Domain

Analyzing the impedance of an ideal capacitor in the frequency domain requires applying a sinusoidal voltage across its terminals, so the current flowing through it can be expressed as:

$$
I=C\frac{dV_0 \sin(\omega t)}{dt}=C\omega V_0 \cos(\omega t)
$$

It can be seen that even if the voltage remains constant, the current varies with frequency. The higher the frequency, the greater the amplitude of the current flowing through the capacitor. In other words, the impedance of a capacitor decreases as the frequency increases and can be expressed as:

$$
Z=\frac{V}{I}=\frac{V_0 \sin(\omega t)}{C\omega V_0 \cos(\omega t)}=\frac{1}{\omega C}\cdot \frac{\sin(\omega t)}{\cos(\omega t)}
$$

It is evident that the impedance magnitude is $\frac{1}{\omega C}$, and as angular frequency increases, impedance decreases.

> Because impedance phase is the phase difference between voltage sinusoids and current sinusoids, in a capacitor, it is the phase difference between sine and cosine, which is $-90°$. In complex notation, it is $-i$, so representing capacitor impedance in complex form is $\frac{-i}{\omega C}$.

As an example, if you have an ideal 10nF decoupling capacitor, then at $1kHz$, its impedance is approximately $16kΩ$ according to $\frac{1}{2\pi \cdot 1kHz \cdot 10nF}$. If the frequency drops to $1Hz$, the impedance is approximately $16MΩ$.

## Impedance of an Ideal Inductor in the Frequency Domain

For an ideal inductor in the frequency domain, if we apply a sinusoidal current, it generates a voltage given by:

$$
I=L\frac{d I_0 \sin(\omega t)}{dt}=L\omega I_0 \cos(\omega t)
$$

When the current amplitude remains constant, the higher the frequency, the higher the voltage across its terminals. In other words, as the frequency increases, it requires a higher voltage to maintain the same current amplitude. The impedance of an inductor increases with frequency and can be expressed using the impedance definition as:

$$
Z=\frac{V}{I}=\frac{L\omega I_0 \cos(\omega t)}{\omega I_0 \sin(\omega t)}=\omega L \cdot \frac{\cos(\omega t)}{\sin(\omega t)}
$$

It can be observed that due to the characteristics of inductors, the higher the frequency, the more challenging it becomes for AC current to flow through an inductor.

> Similar to a capacitor, for inductor impedance, its phase is $+90°$, represented by the complex number $i$. The complex form of inductor impedance is $Z=i\omega L$.

In practical decoupling capacitors, their physical shape and packaging introduce parasitic inductance, which is approximately $2nH$. If you treat it as an ideal inductor, at $1GHz$, it results in an impedance of $12Ω$ (calculated as $2\pi \cdot 1GHz \cdot 2nH$). Since the impedance of an ideal capacitor at the same frequency is only $0.01Ω$, this can be explained as the capacitor behaving inductively at high frequencies.

## References and Acknowledgments

- "Signal Integrity and Power Integrity Analysis"

I apologize, but it seems that there is no specific text provided to translate into English. Please provide the text you would like me to translate, and I will be happy to assist you in a professional and elegant manner while maintaining the original markdown format.

> This post is translated using ChatGPT, please [**feedback**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) if any omissions.